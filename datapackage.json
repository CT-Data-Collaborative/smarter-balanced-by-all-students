{
  "name": "smarter-balanced-by-all-students",
  "datapackage_version": "1.0-beta.18",
  "title": "Smarter Balanced by All Students",
  "description": "Smarter Balanced reports the number and percentage of students assessed by the Smarter Balanced (SB) Assessment, per subgroup.",
  "version": "1.0",
  "licenses": [{
    "url": "http://opendatacommons.org/licenses/pddl/",
    "name": "Open Data Commons Public Domain",
    "version": "1.0",
    "id": "odc-pddl"
  }],
  "sources": [{
    "name": "ctsde",
    "web": ""
  }],
  "author":[{
    "name": "Jenna Daly",
    "email": "jdaly@ctdata.org",
    "web": "http://ctdata.org"
  }],
  "contributor": [],
  "resources": [{
    "path": "data/smarter_balanced_all_students_2015-2016.csv",
    "format": "csv",
    "schema": {
      "fields": [{
          "name": "District",
          "type": "string",
          "dimension": false
        }, {
          "name": "FIPS",
          "type": "string",
          "dimension": false
        }, {
          "name": "Year",
          "type": "string",
          "dimension": false
        }, {
          "name": "Subject",
          "type": "string",
          "dimension": true, 
          "constraints": {
		        "enum": [
		          "ELA",
              "Math"
            ]
			    }
        }, {         
          "name": "Measure Type",
          "type": "string",
          "dimension": true, 
          "constraints": {
		        "enum": [
		          "Number",
              "Percent"
            ]
			    }
        }, {
          "name": "Variable",
          "type": "string",
          "dimension": true, 
          "constraints": {
		        "enum": [
              "Total Number of Students", 
              "Total Number Tested", 
              "Smarter Balanced Participation Rate",
              "Total Number with Scored Tests", 
              "Level 1 Not Met Count", 
              "Level 1 Not Met Percent", 
              "Level 2 Approaching Count", 
              "Level 2 Approaching Percent", 
              "Level 3 Met Count", 
              "Level 3 Met Percent", 
              "Level 4 Exceeded Count", 
              "Level 4 Exceeded Percent", 
              "Level 3 & 4 Met or Exceeded Count", 
              "Level 3 & 4 Met or Exceeded Percent"
            ]
			    }
        }, {
          "name": "Value",
          "type": "number",
          "dimension": false
        }]
      }
    }
  ],
  "last_modified": "05/14/17",
  "ckan_extras": {
    "full_description": {
      "ckan_name": "Full Description",
      "value": "All students who attempted at least one Smarter Balanced (SB) test item in both the computer adaptive test and the performance task in the subject area (English Language Arts or Math) are included in the achievement calculations. In SY2013-14, nearly all school districts opted to use the Smarter Balanced Assessment Consortium (SBAC) as a field test, with individual student results not reported. SBAC was mandatory starting with SY2014-15. Connecticut State Department of Education collects test results for grades 3 through 8 in the spring of each year. CTdata.org carries annual results for grades 3, 4, and 8 for ELA and math. Charter Districts have been entered as individual districts.",
      "type": "string"
    },
    "suppression": {
      "ckan_name": "Suppression",
      "value": "",
      "type": "string"
    },
    "technical_notes": {
      "ckan_name": "Technical Notes",
      "value": "",
      "type": "string"
    },
    "socrata": {
      "ckan_name": "Socrata",
      "value": "False",
      "type": "string"
    },
    "socrata_url": {
      "ckan_name": "Socrata Dataset URL",
      "value": "",
      "type": "string"
    },
    "domain": {
      "ckan_name": "Domain",
      "value": "Education",
      "type": "string"
    },
    "subdomain": {
      "ckan_name": "Subdomain",
      "value": "Testing and Evaluation",
      "type": "string"
    },
    "geography": {
      "ckan_name": "Geography",
      "value": "District",
      "type": "string",
      "constraints": {"enum": ["Town", "County", "Town/County", "District", "Other"]}
    },
    "frequency": {
      "ckan_name": "Frequency",
      "value": "Annual",
      "type": "string"
    },
    "years_in_catalog": {
      "ckan_name": "Years in Catalog",
      "value": ["2014-2015", "2015-2016"],
      "type": "array"
    },
    "latest_year": {
      "ckan_name": "Latest Year Available",
      "value": "2015-2016",
      "type": "string"
    },
    "disabled_views": {
      "ckan_name": "Disabled Views",
      "value": [],
      "type": "array",
      "constraints": {"enum": ["map", "table", "bar", "line"]}
    },
    "units": {
      "ckan_name": "Units",
      "value": {
        "Number": "",
        "Percent": "%"
      }
    },
    "expected_number_of_geographies": {
		  "ckan_name": "Expected Number of Unique Geographies",
		  "value": 205,
		  "type": "string"
		},     
    "default": {      
      "ckan_name": "Default",
			"value": {
		 		"District": "Connecticut",
		 		"Year": ["2015-2016"]
			},
		  	"type": "object"
    }  
  },
  "spot_checks": [
    {
      "type": "$lookup",
      "filter": {
        "District": "Hartford School District",
        "Year": "2014-2015",
        "Variable": "Total Number of Students",
        "Subject": "ELA",
        "Measure Type": "Number" 
      },
      "expected": {
        "type": "$match",
        "number type": "int",
        "value": 10579
      } 
    },  
    {
      "type": "$lookup",
      "filter": {
        "District": "Killingly School District",
        "Year": "2014-2015",
        "Variable": "Level 1 Not Met Percent",
        "Subject": "Math",
        "Measure Type": "Percent" 
      },
      "expected": {
        "type": "$match",
        "number type": "float",
        "value": 33.6
      } 
    },   
    {
      "type": "$lookup",
      "filter": {
        "District": "Connecticut",
        "Year": "2015-2016",
        "Variable": "Smarter Balanced Participation Rate",
        "Subject": "ELA",
        "Measure Type": "Percent" 
      },
      "expected": {
        "type": "$match",
        "number type": "float",
        "value": 98.7
      } 
    },  
    {
      "type": "$lookup",
      "filter": {
        "District": "Thomaston School District",
        "Year": "2015-2016",
        "Variable": "Level 3 & 4 Met or Exceeded Count",
        "Subject": "Math",
        "Measure Type": "Number" 
      },
      "expected": {
        "type": "$match",
        "number type": "int",
        "value": 197
      } 
    }    
  ],
  "dimension_groups": [
    {
      "Variable": [
        "Total Number of Students", 
        "Total Number Tested", 
        "Smarter Balanced Participation Rate",
        "Total Number with Scored Tests", 
        "Level 1 Not Met Count", 
        "Level 1 Not Met Percent", 
        "Level 2 Approaching Count", 
        "Level 2 Approaching Percent", 
        "Level 3 Met Count", 
        "Level 3 Met Percent", 
        "Level 4 Exceeded Count", 
        "Level 4 Exceeded Percent", 
        "Level 3 & 4 Met or Exceeded Count", 
        "Level 3 & 4 Met or Exceeded Percent"         
      ]
    }, 
    {
      "Subject": [
        "ELA", 
        "Math"
      ]
    }
  ]
}